{"ast":null,"code":"var _jsxFileName = \"F:\\\\ibs-admin-front\\\\ibs-school-admin\\\\src\\\\components\\\\CoursesList\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { ActionsBox, BirthDate, Button, ButtonsBox, CardBox, CardImg, Category, CategoryCourseName, CourseName, DeletionBackground, DeletionImg, DeletionPage, DeletionText, Description, DescriptionBox, DisplayFlex, HashTags, LangIn, Number, Numbers, TableImg, TableRow, TableWrapper, WrapperCoursesList } from \"./styles\"; // import img from \"../../assets/images/firebird.png\"\n\nimport { useDispatch } from \"react-redux\";\nimport { getCourses } from \"../../redux/modules/courses/coursesAction\";\nimport { useSelector } from \"react-redux\";\nimport { link } from \"../../baseLink/link\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router\";\nimport { ActionBox, Delete, Edit } from \"./styles\";\nimport { ReactComponent as EditIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/edit.svg\";\nimport { ReactComponent as DeleteIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/bin.svg\";\nimport { Add, NavbarBox, PageTitle } from \"./styles\";\nimport { ReactComponent as PlusIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/plus-img.svg\";\nimport PageTitleAdd from \"../PageTitleAdd\";\nimport { ReactComponent as ArrowIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/arrow.svg\";\nimport Loading from \"../Loading\";\nimport ErrorBox from \"../ErrorBox\";\nimport { httpRequest } from \"../../util/httpRequest\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction CoursesList({\n  setEditValue\n}) {\n  _s();\n\n  var _deletionData$data, _deletionData$data2, _deletionData$data3, _deletionData$data4;\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getCourses());\n  }, [getCourses]);\n  const course = useSelector(state => state.coursesReducer);\n  const [deleteProcess, setDeleteProcess] = useState({\n    loading: false,\n    error: false,\n    success: false\n  });\n\n  const deleteCourse = id => {\n    setDeleteProcess({\n      loading: true,\n      error: false,\n      success: false\n    });\n    axios(httpRequest(`courses/${id}`, \"DELETE\")) // .delete(`${link}/courses/${id}`)\n    .then(res => {\n      console.log(res);\n      setDeleteProcess({\n        loading: false,\n        error: false,\n        success: true\n      });\n    }).catch(err => {\n      console.log(err);\n      setDeleteProcess({\n        loading: false,\n        error: true,\n        success: false\n      });\n    }).finally(res => {\n      console.log(res);\n      setTimeout(() => setDeleteProcess({\n        loading: false,\n        error: false,\n        success: false\n      }), 3000);\n    });\n  };\n\n  const history = useHistory();\n  const [deletionData, setDeletionData] = useState({\n    popUp: false,\n    data: {}\n  });\n  const {\n    loading,\n    error,\n    courses\n  } = course;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(PageTitleAdd, {\n      title: \"Courses\",\n      link: \"/courses/add\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(WrapperCoursesList, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 33\n        }, this), error && /*#__PURE__*/_jsxDEV(ErrorBox, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableWrapper, {\n        children: !loading && !error && (courses === null || courses === void 0 ? void 0 : courses.map(({\n          id,\n          courseName_uz,\n          courseName_ru,\n          description_uz,\n          description_ru,\n          category,\n          subCategory,\n          tags,\n          duration,\n          discount,\n          courseIcon\n        }) => /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableImg, {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `${link}/images/files/${courseIcon}`,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(CategoryCourseName, {\n            children: [/*#__PURE__*/_jsxDEV(DisplayFlex, {\n              children: /*#__PURE__*/_jsxDEV(CourseName, {\n                children: courseName_uz\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Category, {\n              children: `${category} | ${subCategory}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(DescriptionBox, {\n            children: /*#__PURE__*/_jsxDEV(Description, {\n              children: description_uz\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Numbers, {\n            children: [discount > 0 && /*#__PURE__*/_jsxDEV(Number, {\n              children: [\"-\", discount, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 54\n            }, this), /*#__PURE__*/_jsxDEV(Number, {\n              children: [duration, \" \", duration === 1 ? \"month\" : \"months\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(ActionBox, {\n            children: [/*#__PURE__*/_jsxDEV(Edit, {\n              bgColor: \"green\",\n              onClick: () => {\n                history.push(\"/courses/add\");\n                setEditValue({\n                  id,\n                  courseName_uz,\n                  courseName_ru,\n                  description_uz,\n                  description_ru,\n                  category,\n                  subCategory,\n                  tags,\n                  duration,\n                  discount,\n                  courseIcon\n                });\n              },\n              children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Delete, {\n              bgColor: \"red\",\n              onClick: () => setDeletionData({\n                popUp: true,\n                data: {\n                  id,\n                  courseName_uz,\n                  category,\n                  subCategory,\n                  courseIcon\n                }\n              }),\n              children: deleteProcess.loading ? \"loading...\" : deleteProcess.error ? \"error\" : deleteProcess.success ? \"success\" : /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 57\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 33\n          }, this)]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 29\n        }, this)))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), deletionData.popUp && /*#__PURE__*/_jsxDEV(DeletionBackground, {\n      children: /*#__PURE__*/_jsxDEV(DeletionPage, {\n        children: [/*#__PURE__*/_jsxDEV(DeletionImg, {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `${link}/images/files/${(_deletionData$data = deletionData.data) === null || _deletionData$data === void 0 ? void 0 : _deletionData$data.courseIcon}`,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DeletionText, {\n          children: [(_deletionData$data2 = deletionData.data) === null || _deletionData$data2 === void 0 ? void 0 : _deletionData$data2.courseName_uz, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 60\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: `${(_deletionData$data3 = deletionData.data) === null || _deletionData$data3 === void 0 ? void 0 : _deletionData$data3.category} | ${(_deletionData$data4 = deletionData.data) === null || _deletionData$data4 === void 0 ? void 0 : _deletionData$data4.subCategory}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(DeletionText, {\n          children: \"Do you really want to delete this course ?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ActionsBox, {\n          children: [/*#__PURE__*/_jsxDEV(Edit, {\n            onClick: () => setDeletionData({\n              popUp: false,\n              data: {}\n            }),\n            children: /*#__PURE__*/_jsxDEV(ArrowIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Delete, {\n            onClick: () => {\n              var _deletionData$data5;\n\n              return deleteCourse((_deletionData$data5 = deletionData.data) === null || _deletionData$data5 === void 0 ? void 0 : _deletionData$data5.id);\n            },\n            children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(CoursesList, \"olx2gVDaWHc5Qi/7tclqdb8L8io=\", false, function () {\n  return [useDispatch, useSelector, useHistory];\n});\n\n_c = CoursesList;\nexport default CoursesList;\n\nvar _c;\n\n$RefreshReg$(_c, \"CoursesList\");","map":{"version":3,"sources":["F:/ibs-admin-front/ibs-school-admin/src/components/CoursesList/index.jsx"],"names":["React","useEffect","useState","ActionsBox","BirthDate","Button","ButtonsBox","CardBox","CardImg","Category","CategoryCourseName","CourseName","DeletionBackground","DeletionImg","DeletionPage","DeletionText","Description","DescriptionBox","DisplayFlex","HashTags","LangIn","Number","Numbers","TableImg","TableRow","TableWrapper","WrapperCoursesList","useDispatch","getCourses","useSelector","link","axios","useHistory","ActionBox","Delete","Edit","Add","NavbarBox","PageTitle","PageTitleAdd","Loading","ErrorBox","httpRequest","CoursesList","setEditValue","dispatch","course","state","coursesReducer","deleteProcess","setDeleteProcess","loading","error","success","deleteCourse","id","then","res","console","log","catch","err","finally","setTimeout","history","deletionData","setDeletionData","popUp","data","courses","map","courseName_uz","courseName_ru","description_uz","description_ru","category","subCategory","tags","duration","discount","courseIcon","push"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\"\r\nimport {\r\n    ActionsBox,\r\n    BirthDate, Button, ButtonsBox,\r\n    CardBox,\r\n    CardImg,\r\n    Category, CategoryCourseName,\r\n    CourseName, DeletionBackground, DeletionImg, DeletionPage, DeletionText,\r\n    Description, DescriptionBox,\r\n    DisplayFlex,\r\n    HashTags,\r\n    LangIn, Number, Numbers, TableImg, TableRow, TableWrapper,\r\n    WrapperCoursesList\r\n} from \"./styles\";\r\n// import img from \"../../assets/images/firebird.png\"\r\nimport {useDispatch} from \"react-redux\"\r\nimport {getCourses} from \"../../redux/modules/courses/coursesAction\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {link} from \"../../baseLink/link\";\r\nimport axios from \"axios\";\r\n\r\nimport {useHistory} from \"react-router\";\r\nimport {ActionBox, Delete, Edit} from \"./styles\";\r\nimport {ReactComponent as EditIcon} from \"../../assets/icons/edit.svg\";\r\nimport {ReactComponent as DeleteIcon} from \"../../assets/icons/bin.svg\";\r\nimport {Add, NavbarBox, PageTitle} from \"./styles\";\r\nimport {ReactComponent as PlusIcon} from \"../../assets/icons/plus-img.svg\";\r\nimport PageTitleAdd from \"../PageTitleAdd\";\r\nimport {ReactComponent as ArrowIcon} from \"../../assets/icons/arrow.svg\";\r\nimport Loading from \"../Loading\";\r\nimport ErrorBox from \"../ErrorBox\";\r\nimport {httpRequest} from \"../../util/httpRequest\";\r\n\r\nfunction CoursesList({setEditValue}) {\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(getCourses())\r\n    }, [getCourses])\r\n    const course = useSelector(state => state.coursesReducer)\r\n\r\n    const [deleteProcess, setDeleteProcess] = useState({loading: false, error: false, success: false})\r\n\r\n    const deleteCourse = (id) => {\r\n        setDeleteProcess({loading: true, error: false, success: false})\r\n        axios(httpRequest(`courses/${id}`,\"DELETE\"))\r\n            // .delete(`${link}/courses/${id}`)\r\n            .then(res => {\r\n                console.log(res)\r\n                setDeleteProcess({loading: false, error: false, success: true})\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                setDeleteProcess({loading: false, error: true, success: false})\r\n            })\r\n            .finally(res => {\r\n                console.log(res)\r\n                setTimeout(() => setDeleteProcess({loading: false, error: false, success: false}), 3000)\r\n            })\r\n    }\r\n\r\n    const history = useHistory()\r\n\r\n    const [deletionData, setDeletionData] = useState({popUp: false, data: {}})\r\n\r\n    const {loading, error, courses} = course\r\n\r\n    return (\r\n        <>\r\n            <PageTitleAdd title={\"Courses\"} link={\"/courses/add\"}/>\r\n\r\n            <WrapperCoursesList>\r\n                <h1>\r\n                    {loading && <Loading/>}\r\n                    {error && <ErrorBox/>}\r\n                </h1>\r\n\r\n                <TableWrapper>\r\n                    {(!loading && !error) &&\r\n                    courses?.map(\r\n                        (\r\n                            {\r\n                                id,\r\n                                courseName_uz,\r\n                                courseName_ru,\r\n                                description_uz,\r\n                                description_ru,\r\n                                category,\r\n                                subCategory,\r\n                                tags,\r\n                                duration,\r\n                                discount,\r\n                                courseIcon\r\n                            }) =>\r\n                            <TableRow key={id}>\r\n                                <TableImg>\r\n                                    <img src={`${link}/images/files/${courseIcon}`} alt=\"\"/>\r\n                                </TableImg>\r\n\r\n                                <CategoryCourseName>\r\n                                    <DisplayFlex>\r\n                                        <CourseName>\r\n                                            {/*<LangIn>uz</LangIn>*/}\r\n                                            {courseName_uz}\r\n                                        </CourseName>\r\n                                        {/*<CourseName>*/}\r\n                                        {/*    <LangIn>ru</LangIn>*/}\r\n                                        {/*    {courseName_ru}*/}\r\n                                        {/*</CourseName>*/}\r\n                                    </DisplayFlex>\r\n                                    <Category>\r\n                                        {`${category} | ${subCategory}`}\r\n                                    </Category>\r\n                                </CategoryCourseName>\r\n                                <DescriptionBox>\r\n                                    <Description>\r\n                                        {/*<LangIn>uz</LangIn>*/}\r\n                                        {description_uz}\r\n                                    </Description>\r\n                                    {/*<Description>*/}\r\n                                    {/*    <LangIn>ru</LangIn>*/}\r\n                                    {/*    {description_ru}*/}\r\n                                    {/*</Description>*/}\r\n                                </DescriptionBox>\r\n                                {/*<HashTags>*/}\r\n                                {/*    {tags}*/}\r\n                                {/*</HashTags>*/}\r\n                                <Numbers>\r\n                                    {discount > 0 && <Number>-{discount}%</Number>}\r\n                                    <Number>{duration} {duration === 1 ? \"month\" : \"months\"}</Number>\r\n                                </Numbers>\r\n                                <ActionBox>\r\n                                    <Edit bgColor={\"green\"} onClick={() => {\r\n                                        history.push(\"/courses/add\")\r\n                                        setEditValue({\r\n                                            id,\r\n                                            courseName_uz,\r\n                                            courseName_ru,\r\n                                            description_uz,\r\n                                            description_ru,\r\n                                            category,\r\n                                            subCategory,\r\n                                            tags,\r\n                                            duration,\r\n                                            discount,\r\n                                            courseIcon\r\n                                        })\r\n                                    }}\r\n                                    >\r\n                                        <EditIcon/>\r\n                                    </Edit>\r\n                                    <Delete bgColor={\"red\"} onClick={() => setDeletionData({\r\n                                        popUp: true,\r\n                                        data: {id, courseName_uz, category, subCategory, courseIcon}\r\n                                    })}>\r\n                                        {\r\n                                            deleteProcess.loading ? \"loading...\" :\r\n                                                deleteProcess.error ? \"error\" :\r\n                                                    deleteProcess.success ? \"success\" :\r\n                                                        <DeleteIcon/>\r\n                                        }\r\n                                    </Delete>\r\n                                </ActionBox>\r\n                            </TableRow>\r\n                    )}\r\n                </TableWrapper>\r\n            </WrapperCoursesList>\r\n            {deletionData.popUp &&\r\n            <DeletionBackground>\r\n                <DeletionPage>\r\n                    <DeletionImg>\r\n                        <img src={`${link}/images/files/${deletionData.data?.courseIcon}`} alt=\"\"/>\r\n                    </DeletionImg>\r\n                    <DeletionText>\r\n                        {deletionData.data?.courseName_uz} <br/>\r\n                        <small>{`${deletionData.data?.category} | ${deletionData.data?.subCategory}`}</small>\r\n                    </DeletionText> <br/>\r\n                    <DeletionText>Do you really want to delete this course ?</DeletionText>\r\n                    <ActionsBox>\r\n                        <Edit onClick={() => setDeletionData({popUp: false, data: {}})}>\r\n                            <ArrowIcon/>\r\n                        </Edit>\r\n                        <Delete onClick={() => deleteCourse(deletionData.data?.id)}>\r\n                            <DeleteIcon/>\r\n                        </Delete>\r\n                    </ActionsBox>\r\n                </DeletionPage>\r\n            </DeletionBackground>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CoursesList"]},"metadata":{},"sourceType":"module"}