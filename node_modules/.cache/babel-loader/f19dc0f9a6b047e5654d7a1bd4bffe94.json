{"ast":null,"code":"var _jsxFileName = \"F:\\\\ibs-admin-front\\\\ibs-school-admin\\\\src\\\\components\\\\TeachersList\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { ActionBox, ActionsBox, BirthDate, Button, ButtonsBox, CardBox, CardImg, DateOfBirth, Day, DayMonth, Delete, DeletionBackground, DeletionImg, DeletionPage, DeletionText, Description, Edit, FullName, FullNameBox, FullNames, LangIn, Month, Position, TableImg, TableRow, TableWrapper, WrapperTeachersList, Year } from \"./styles\"; // import img from \"../../assets/images/firebird.png\"\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getTeachers } from \"../../redux/modules/teachers/teachersAction\";\nimport { link } from \"../../baseLink/link\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router\";\nimport { whichMonth } from \"../../util/whichMonth\"; //icons\n\nimport { ReactComponent as EditIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/edit.svg\";\nimport { ReactComponent as DeleteIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/bin.svg\";\nimport { ReactComponent as ArrowIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/arrow.svg\";\nimport PageTitleAdd from \"../PageTitleAdd\";\nimport { DisplayFlex } from \"../CoursesList/styles\";\nimport Loading from \"../Loading\";\nimport ErrorBox from \"../ErrorBox\";\nimport { httpRequest } from \"../../util/httpRequest\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst TeachersList = ({\n  setEditValue\n}) => {\n  _s();\n\n  var _deletionData$data, _deletionData$data2, _deletionData$data3;\n\n  const [deletionData, setDeletionData] = useState({\n    popUp: false,\n    data: {}\n  });\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const getTeachersDispatch = () => {\n    dispatch(getTeachers());\n  };\n\n  useEffect(() => {\n    getTeachersDispatch();\n  }, [getTeachers]);\n  const teacher = useSelector(state => state.teacherReducer);\n\n  const deleteTeacherById = id => {\n    axios(httpRequest(`teachers/${id}`, \"DELETE\")) // .delete(`${link}/teachers/${id}`)\n    .then(res => {\n      // console.log(\"deleted\")\n      console.log(res);\n      getTeachersDispatch();\n      setDeletionData({\n        popUp: false,\n        data: {}\n      });\n    }).catch(err => {\n      // console.log(\"error deleted\")\n      console.log(err);\n    });\n  };\n\n  const {\n    loading,\n    error,\n    teachers\n  } = teacher;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(WrapperTeachersList, {\n      children: [/*#__PURE__*/_jsxDEV(PageTitleAdd, {\n        title: \"Teachers\",\n        link: \"/teachers/add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 29\n      }, this), error && /*#__PURE__*/_jsxDEV(ErrorBox, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(TableWrapper, {\n        children: !loading && !error && (teachers === null || teachers === void 0 ? void 0 : teachers.map(({\n          id,\n          teacherFullName,\n          birthDate,\n          description,\n          image,\n          position\n        }, index) => {\n          const dob = birthDate.split(\"T\")[0].split(\"-\");\n          const day = dob[2];\n          const month = whichMonth(dob[1]);\n          const year = dob[0];\n          return /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableImg, {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `${link}/images/files/${image}`,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(FullNameBox, {\n              children: [/*#__PURE__*/_jsxDEV(FullName, {\n                children: teacherFullName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Position, {\n                children: position\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(DateOfBirth, {\n              children: [/*#__PURE__*/_jsxDEV(DayMonth, {\n                children: [/*#__PURE__*/_jsxDEV(Day, {\n                  children: day\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Month, {\n                  children: month\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Year, {\n                children: year\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(ActionBox, {\n              children: [/*#__PURE__*/_jsxDEV(Edit, {\n                bgColor: \"green\",\n                onClick: () => {\n                  history.push(\"/teachers/add\");\n                  setEditValue({\n                    id,\n                    teacherFullName,\n                    birthDate,\n                    description,\n                    image,\n                    position\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Delete, {\n                bgColor: \"red\",\n                onClick: () => setDeletionData({\n                  popUp: true,\n                  data: {\n                    id,\n                    teacherFullName,\n                    birthDate,\n                    description,\n                    image,\n                    position\n                  }\n                }),\n                children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 37\n            }, this)]\n          }, id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 33\n          }, this);\n        }))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), deletionData.popUp && /*#__PURE__*/_jsxDEV(DeletionBackground, {\n      children: /*#__PURE__*/_jsxDEV(DeletionPage, {\n        children: [/*#__PURE__*/_jsxDEV(DeletionImg, {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `${link}/images/files/${(_deletionData$data = deletionData.data) === null || _deletionData$data === void 0 ? void 0 : _deletionData$data.image}`,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DeletionText, {\n          children: [(_deletionData$data2 = deletionData.data) === null || _deletionData$data2 === void 0 ? void 0 : _deletionData$data2.teacherFullName, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: (_deletionData$data3 = deletionData.data) === null || _deletionData$data3 === void 0 ? void 0 : _deletionData$data3.position\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DeletionText, {\n          children: \"Do you really want to delete me \\uD83D\\uDE2D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ActionsBox, {\n          children: [/*#__PURE__*/_jsxDEV(Edit, {\n            bgColor: \"green\",\n            onClick: () => {\n              setDeletionData({\n                popUp: false,\n                data: {}\n              });\n            },\n            children: /*#__PURE__*/_jsxDEV(ArrowIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Delete, {\n            bgColor: \"red\",\n            onClick: () => {\n              var _deletionData$data4;\n\n              return deleteTeacherById((_deletionData$data4 = deletionData.data) === null || _deletionData$data4 === void 0 ? void 0 : _deletionData$data4.id);\n            },\n            children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(TeachersList, \"D5UUHBTf/Wx/6XxdoWeaF1WtOQI=\", false, function () {\n  return [useHistory, useDispatch, useSelector];\n});\n\n_c = TeachersList;\nexport default TeachersList;\n\nvar _c;\n\n$RefreshReg$(_c, \"TeachersList\");","map":{"version":3,"sources":["F:/ibs-admin-front/ibs-school-admin/src/components/TeachersList/index.jsx"],"names":["React","useEffect","useState","ActionBox","ActionsBox","BirthDate","Button","ButtonsBox","CardBox","CardImg","DateOfBirth","Day","DayMonth","Delete","DeletionBackground","DeletionImg","DeletionPage","DeletionText","Description","Edit","FullName","FullNameBox","FullNames","LangIn","Month","Position","TableImg","TableRow","TableWrapper","WrapperTeachersList","Year","useDispatch","useSelector","getTeachers","link","axios","useHistory","whichMonth","PageTitleAdd","DisplayFlex","Loading","ErrorBox","httpRequest","TeachersList","setEditValue","deletionData","setDeletionData","popUp","data","history","dispatch","getTeachersDispatch","teacher","state","teacherReducer","deleteTeacherById","id","then","res","console","log","catch","err","loading","error","teachers","map","teacherFullName","birthDate","description","image","position","index","dob","split","day","month","year","push"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SACIC,SADJ,EACeC,UADf,EAEIC,SAFJ,EAGIC,MAHJ,EAIIC,UAJJ,EAKIC,OALJ,EAMIC,OANJ,EAMaC,WANb,EAM0BC,GAN1B,EAM+BC,QAN/B,EAMyCC,MANzC,EAMiDC,kBANjD,EAMqEC,WANrE,EAMkFC,YANlF,EAMgGC,YANhG,EAOIC,WAPJ,EAOiBC,IAPjB,EAQIC,QARJ,EAQcC,WARd,EAQ2BC,SAR3B,EASIC,MATJ,EASYC,KATZ,EAUIC,QAVJ,EAUcC,QAVd,EAUwBC,QAVxB,EAUkCC,YAVlC,EAWIC,mBAXJ,EAWyBC,IAXzB,QAYO,UAZP,C,CAaA;;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AACA,SAAQC,WAAR,QAA0B,6CAA1B;AACA,SAAQC,IAAR,QAAmB,qBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,cAAzB;AACA,SAAQC,UAAR,QAAyB,uBAAzB,C,CAEA;;;;;AAIA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,SAAQC,WAAR,QAA0B,uBAA1B;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,SAAQC,WAAR,QAA0B,wBAA1B;;;;AAGA,MAAMC,YAAY,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAoB;AAAA;;AAAA;;AAErC,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkC5C,QAAQ,CAAC;AAAC6C,IAAAA,KAAK,EAAE,KAAR;AAAeC,IAAAA,IAAI,EAAE;AAArB,GAAD,CAAhD;AAEA,QAAMC,OAAO,GAAGb,UAAU,EAA1B;AAEA,QAAMc,QAAQ,GAAGnB,WAAW,EAA5B;;AAEA,QAAMoB,mBAAmB,GAAG,MAAM;AAC9BD,IAAAA,QAAQ,CAACjB,WAAW,EAAZ,CAAR;AACH,GAFD;;AAIAhC,EAAAA,SAAS,CAAC,MAAM;AACZkD,IAAAA,mBAAmB;AACtB,GAFQ,EAEN,CAAClB,WAAD,CAFM,CAAT;AAGA,QAAMmB,OAAO,GAAGpB,WAAW,CAACqB,KAAK,IAAIA,KAAK,CAACC,cAAhB,CAA3B;;AAEA,QAAMC,iBAAiB,GAAIC,EAAD,IAAQ;AAC9BrB,IAAAA,KAAK,CAACO,WAAW,CAAE,YAAWc,EAAG,EAAhB,EAAkB,QAAlB,CAAZ,CAAL,CACI;AADJ,KAEKC,IAFL,CAEUC,GAAG,IAAI;AACT;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAP,MAAAA,mBAAmB;AACnBL,MAAAA,eAAe,CAAC;AAACC,QAAAA,KAAK,EAAC,KAAP;AAAaC,QAAAA,IAAI,EAAC;AAAlB,OAAD,CAAf;AACH,KAPL,EAQKa,KARL,CAQWC,GAAG,IAAI;AACV;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACH,KAXL;AAaH,GAdD;;AAgBA,QAAM;AAACC,IAAAA,OAAD;AAAUC,IAAAA,KAAV;AAAiBC,IAAAA;AAAjB,MAA6Bb,OAAnC;AACA,sBACI;AAAA,4BACI,QAAC,mBAAD;AAAA,8BACI,QAAC,YAAD;AAAc,QAAA,KAAK,EAAE,UAArB;AAAiC,QAAA,IAAI,EAAE;AAAvC;AAAA;AAAA;AAAA;AAAA,cADJ,EAEKW,OAAO,iBAAI,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,cAFhB,EAGKC,KAAK,iBAAI,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,cAHd,eAII,QAAC,YAAD;AAAA,kBACM,CAACD,OAAD,IAAY,CAACC,KAAd,KACDC,QADC,aACDA,QADC,uBACDA,QAAQ,CAAEC,GAAV,CAAc,CAAC;AACIV,UAAAA,EADJ;AAEIW,UAAAA,eAFJ;AAGIC,UAAAA,SAHJ;AAIIC,UAAAA,WAJJ;AAKIC,UAAAA,KALJ;AAMIC,UAAAA;AANJ,SAAD,EAOIC,KAPJ,KAOc;AACpB,gBAAMC,GAAG,GAAGL,SAAS,CAACM,KAAV,CAAgB,GAAhB,EAAqB,CAArB,EAAwBA,KAAxB,CAA8B,GAA9B,CAAZ;AACA,gBAAMC,GAAG,GAAGF,GAAG,CAAC,CAAD,CAAf;AACA,gBAAMG,KAAK,GAAGvC,UAAU,CAACoC,GAAG,CAAC,CAAD,CAAJ,CAAxB;AACA,gBAAMI,IAAI,GAAGJ,GAAG,CAAC,CAAD,CAAhB;AACA,8BACI,QAAC,QAAD;AAAA,oCACI,QAAC,QAAD;AAAA,qCACI;AAAK,gBAAA,GAAG,EAAG,GAAEvC,IAAK,iBAAgBoC,KAAM,EAAxC;AAA2C,gBAAA,GAAG,EAAC;AAA/C;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBADJ,eAII,QAAC,WAAD;AAAA,sCACI,QAAC,QAAD;AAAA,0BACKH;AADL;AAAA;AAAA;AAAA;AAAA,sBADJ,eAII,QAAC,QAAD;AAAA,0BACKI;AADL;AAAA;AAAA;AAAA;AAAA,sBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ,eAYI,QAAC,WAAD;AAAA,sCACI,QAAC,QAAD;AAAA,wCACI,QAAC,GAAD;AAAA,4BAAMI;AAAN;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,KAAD;AAAA,4BAAQC;AAAR;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAKI,QAAC,IAAD;AAAA,0BAAOC;AAAP;AAAA;AAAA;AAAA;AAAA,sBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAZJ,eAoBI,QAAC,SAAD;AAAA,sCACI,QAAC,IAAD;AAAM,gBAAA,OAAO,EAAE,OAAf;AAAwB,gBAAA,OAAO,EAAE,MAAM;AACnC5B,kBAAAA,OAAO,CAAC6B,IAAR,CAAa,eAAb;AACAlC,kBAAAA,YAAY,CAAC;AACTY,oBAAAA,EADS;AAETW,oBAAAA,eAFS;AAGTC,oBAAAA,SAHS;AAITC,oBAAAA,WAJS;AAKTC,oBAAAA,KALS;AAMTC,oBAAAA;AANS,mBAAD,CAAZ;AAQH,iBAVD;AAAA,uCAWI,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAXJ;AAAA;AAAA;AAAA;AAAA,sBADJ,eAcI,QAAC,MAAD;AAAQ,gBAAA,OAAO,EAAE,KAAjB;AAAwB,gBAAA,OAAO,EAAE,MAC7BzB,eAAe,CAAC;AACZC,kBAAAA,KAAK,EAAE,IADK;AAEZC,kBAAAA,IAAI,EAAE;AACFQ,oBAAAA,EADE;AAEFW,oBAAAA,eAFE;AAGFC,oBAAAA,SAHE;AAIFC,oBAAAA,WAJE;AAKFC,oBAAAA,KALE;AAMFC,oBAAAA;AANE;AAFM,iBAAD,CADnB;AAAA,uCAYI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAZJ;AAAA;AAAA;AAAA;AAAA,sBAdJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBApBJ;AAAA,aAAef,EAAf;AAAA;AAAA;AAAA;AAAA,kBADJ;AAqDH,SAjEL,CADC;AADL;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EA6EKX,YAAY,CAACE,KAAb,iBACD,QAAC,kBAAD;AAAA,6BACI,QAAC,YAAD;AAAA,gCACI,QAAC,WAAD;AAAA,iCACI;AAAK,YAAA,GAAG,EAAG,GAAEb,IAAK,iBAAR,sBAAwBW,YAAY,CAACG,IAArC,uDAAwB,mBAAmBsB,KAAM,EAA3D;AAA8D,YAAA,GAAG,EAAC;AAAlE;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII,QAAC,YAAD;AAAA,4CACKzB,YAAY,CAACG,IADlB,wDACK,oBAAmBmB,eADxB,eAEI;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAA,6CAAQtB,YAAY,CAACG,IAArB,wDAAQ,oBAAmBuB;AAA3B;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ,eASI,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATJ,eAUI,QAAC,UAAD;AAAA,kCACI,QAAC,IAAD;AAAM,YAAA,OAAO,EAAE,OAAf;AAAwB,YAAA,OAAO,EAAE,MAAM;AACnCzB,cAAAA,eAAe,CAAC;AAACC,gBAAAA,KAAK,EAAE,KAAR;AAAeC,gBAAAA,IAAI,EAAE;AAArB,eAAD,CAAf;AACH,aAFD;AAAA,mCAGI,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAHJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAMI,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAE,KAAjB;AAAwB,YAAA,OAAO,EAAE;AAAA;;AAAA,qBAC7BO,iBAAiB,wBAACV,YAAY,CAACG,IAAd,wDAAC,oBAAmBQ,EAApB,CADY;AAAA,aAAjC;AAAA,mCAGI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAHJ;AAAA;AAAA;AAAA;AAAA,kBANJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YA9EJ;AAAA,kBADJ;AA0GH,CA5ID;;GAAMb,Y;UAIcP,U,EAECL,W,EASDC,W;;;KAfdW,Y;AA8IN,eAAeA,YAAf","sourcesContent":["import React, {useEffect, useState} from \"react\"\r\nimport {\r\n    ActionBox, ActionsBox,\r\n    BirthDate,\r\n    Button,\r\n    ButtonsBox,\r\n    CardBox,\r\n    CardImg, DateOfBirth, Day, DayMonth, Delete, DeletionBackground, DeletionImg, DeletionPage, DeletionText,\r\n    Description, Edit,\r\n    FullName, FullNameBox, FullNames,\r\n    LangIn, Month,\r\n    Position, TableImg, TableRow, TableWrapper,\r\n    WrapperTeachersList, Year\r\n} from \"./styles\";\r\n// import img from \"../../assets/images/firebird.png\"\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getTeachers} from \"../../redux/modules/teachers/teachersAction\";\r\nimport {link} from \"../../baseLink/link\";\r\nimport axios from \"axios\";\r\nimport {useHistory} from \"react-router\";\r\nimport {whichMonth} from \"../../util/whichMonth\";\r\n\r\n//icons\r\nimport {ReactComponent as EditIcon} from \"../../assets/icons/edit.svg\"\r\nimport {ReactComponent as DeleteIcon} from \"../../assets/icons/bin.svg\"\r\nimport {ReactComponent as ArrowIcon} from \"../../assets/icons/arrow.svg\"\r\nimport PageTitleAdd from \"../PageTitleAdd\";\r\nimport {DisplayFlex} from \"../CoursesList/styles\";\r\nimport Loading from \"../Loading\";\r\nimport ErrorBox from \"../ErrorBox\";\r\nimport {httpRequest} from \"../../util/httpRequest\";\r\n\r\n\r\nconst TeachersList = ({setEditValue}) => {\r\n\r\n    const [deletionData, setDeletionData] = useState({popUp: false, data: {}})\r\n\r\n    const history = useHistory()\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const getTeachersDispatch = () => {\r\n        dispatch(getTeachers())\r\n    }\r\n\r\n    useEffect(() => {\r\n        getTeachersDispatch()\r\n    }, [getTeachers])\r\n    const teacher = useSelector(state => state.teacherReducer)\r\n\r\n    const deleteTeacherById = (id) => {\r\n        axios(httpRequest(`teachers/${id}`,\"DELETE\"))\r\n            // .delete(`${link}/teachers/${id}`)\r\n            .then(res => {\r\n                // console.log(\"deleted\")\r\n                console.log(res)\r\n                getTeachersDispatch()\r\n                setDeletionData({popUp:false,data:{}})\r\n            })\r\n            .catch(err => {\r\n                // console.log(\"error deleted\")\r\n                console.log(err)\r\n            })\r\n\r\n    }\r\n\r\n    const {loading, error, teachers} = teacher\r\n    return (\r\n        <>\r\n            <WrapperTeachersList>\r\n                <PageTitleAdd title={\"Teachers\"} link={\"/teachers/add\"}/>\r\n                {loading && <Loading/>}\r\n                {error && <ErrorBox/>}\r\n                <TableWrapper>\r\n                    {(!loading && !error) &&\r\n                    teachers?.map(({\r\n                                       id,\r\n                                       teacherFullName,\r\n                                       birthDate,\r\n                                       description,\r\n                                       image,\r\n                                       position\r\n                                   }, index) => {\r\n                            const dob = birthDate.split(\"T\")[0].split(\"-\");\r\n                            const day = dob[2];\r\n                            const month = whichMonth(dob[1]);\r\n                            const year = dob[0];\r\n                            return (\r\n                                <TableRow key={id}>\r\n                                    <TableImg>\r\n                                        <img src={`${link}/images/files/${image}`} alt=\"\"/>\r\n                                    </TableImg>\r\n                                    <FullNameBox>\r\n                                        <FullName>\r\n                                            {teacherFullName}\r\n                                        </FullName>\r\n                                        <Position>\r\n                                            {position}\r\n                                        </Position>\r\n                                    </FullNameBox>\r\n                                    <DateOfBirth>\r\n                                        <DayMonth>\r\n                                            <Day>{day}</Day>\r\n                                            <Month>{month}</Month>\r\n                                        </DayMonth>\r\n                                        <Year>{year}</Year>\r\n                                    </DateOfBirth>\r\n\r\n                                    <ActionBox>\r\n                                        <Edit bgColor={\"green\"} onClick={() => {\r\n                                            history.push(\"/teachers/add\")\r\n                                            setEditValue({\r\n                                                id,\r\n                                                teacherFullName,\r\n                                                birthDate,\r\n                                                description,\r\n                                                image,\r\n                                                position\r\n                                            })\r\n                                        }}>\r\n                                            <EditIcon/>\r\n                                        </Edit>\r\n                                        <Delete bgColor={\"red\"} onClick={() =>\r\n                                            setDeletionData({\r\n                                                popUp: true,\r\n                                                data: {\r\n                                                    id,\r\n                                                    teacherFullName,\r\n                                                    birthDate,\r\n                                                    description,\r\n                                                    image,\r\n                                                    position\r\n                                                }\r\n                                            })}>\r\n                                            <DeleteIcon/>\r\n                                        </Delete>\r\n                                    </ActionBox>\r\n\r\n                                    {/*</CardBox>*/}\r\n                                </TableRow>)\r\n                        }\r\n                    )\r\n                    }\r\n                </TableWrapper>\r\n            </WrapperTeachersList>\r\n            {deletionData.popUp &&\r\n            <DeletionBackground>\r\n                <DeletionPage>\r\n                    <DeletionImg>\r\n                        <img src={`${link}/images/files/${deletionData.data?.image}`} alt=\"\"/>\r\n                    </DeletionImg>\r\n                    <DeletionText>\r\n                        {deletionData.data?.teacherFullName}\r\n                        <br/>\r\n                        <small>{deletionData.data?.position}</small>\r\n                    </DeletionText>\r\n                    <DeletionText>Do you really want to delete me 😭</DeletionText>\r\n                    <ActionsBox>\r\n                        <Edit bgColor={\"green\"} onClick={() => {\r\n                            setDeletionData({popUp: false, data: {}})\r\n                        }}>\r\n                            <ArrowIcon/>\r\n                        </Edit>\r\n                        <Delete bgColor={\"red\"} onClick={() =>\r\n                            deleteTeacherById(deletionData.data?.id)\r\n                        }>\r\n                            <DeleteIcon/>\r\n                        </Delete>\r\n                    </ActionsBox>\r\n                </DeletionPage>\r\n            </DeletionBackground>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default TeachersList"]},"metadata":{},"sourceType":"module"}