{"ast":null,"code":"var _jsxFileName = \"F:\\\\ibs-admin-front\\\\ibs-school-admin\\\\src\\\\components\\\\AddTeacher\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Form, Input, Textarea, Title } from \"../Input/styles\";\nimport { Button } from \"../Input/styles\";\nimport { link } from \"../../baseLink/link\";\nimport { httpRequest } from \"../../util/httpRequest\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddTeacher = ({\n  editValue\n}) => {\n  _s();\n\n  const [submitProcess, setSubmitProcess] = useState({\n    loading: false,\n    error: false,\n    success: false\n  });\n\n  const submitTeacher = e => {\n    e.preventDefault();\n    setSubmitProcess({\n      loading: true,\n      error: false,\n      success: false\n    });\n    const [teacherFullName, birthDate, description, image, position] = e.target;\n    const form = {\n      teacherFullName: teacherFullName.value,\n      birthDate: birthDate.value,\n      description: description.value,\n      image: image.value,\n      position: position.value\n    };\n    axios(httpRequest(\"teachers\", \"POST\", form)) // .post(`${link}/teachers`, form)\n    .then(res => {\n      console.log(res);\n      setSubmitProcess({\n        loading: false,\n        error: false,\n        success: true\n      });\n    }).catch(err => {\n      console.log(err);\n      setSubmitProcess({\n        loading: false,\n        error: true,\n        success: false\n      });\n    }).finally(res => {\n      console.log(res);\n      setTimeout(() => setSubmitProcess({\n        loading: false,\n        error: false,\n        success: false\n      }), 5000);\n    });\n  };\n\n  const [editProcess, setEditProcess] = useState({\n    loading: false,\n    error: false,\n    success: false\n  });\n\n  const editTeacher = e => {\n    e.preventDefault();\n    setEditProcess({\n      loading: false,\n      error: false,\n      success: false\n    });\n    const [teacherFullName, birthDate, description, image, position] = e.target;\n    const form = {\n      teacherFullName: teacherFullName.value,\n      birthDate: birthDate.value,\n      description: description.value,\n      image: image.value,\n      position: position.value\n    };\n    console.log(form);\n    axios(httpRequest(`teachers/${editValue.id}`, \"PUT\", form)) // .put(`${link}/teachers/${editValue.id}`, form)\n    .then(res => {\n      console.log(res);\n      setEditProcess({\n        loading: false,\n        error: false,\n        success: true\n      });\n    }).catch(err => {\n      console.log(err);\n      setEditProcess({\n        loading: false,\n        error: true,\n        success: false\n      });\n    }).finally(res => {\n      console.log(res);\n      setTimeout(() => setEditProcess({\n        loading: false,\n        error: false,\n        success: false\n      }), 3000);\n    });\n  };\n\n  const onSubmit = e => {\n    console.log(\"on submit  clicked\");\n\n    if (editValue.id !== null) {\n      editTeacher(e);\n      console.log(\"edit clicked\");\n    } else {\n      submitTeacher(e);\n      console.log(\"submit clicked\");\n    }\n  };\n\n  const {\n    loading,\n    error,\n    success\n  } = editValue.id ? editProcess : submitProcess;\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: onSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: \"Teachers Form\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      required: true,\n      name: \"teacherFullName\",\n      type: \"text\",\n      placeholder: \"Full Name\",\n      defaultValue: editValue.id ? editValue.teacherFullName : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      required: true,\n      name: \"birthDate\",\n      type: \"date\",\n      placeholder: \"Date of birth\",\n      defaultValue: editValue.id ? editValue === null || editValue === void 0 ? void 0 : editValue.birthDate.split(\"T\")[0] : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n      rows: 4,\n      required: true,\n      name: \"description\",\n      placeholder: \"Quote\",\n      defaultValue: editValue.id ? editValue.description : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      required: true,\n      name: \"image\",\n      type: \"text\",\n      placeholder: \"Image id\",\n      defaultValue: editValue.id ? editValue.image : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      required: true,\n      name: \"position\",\n      type: \"text\",\n      placeholder: \"Position\",\n      defaultValue: editValue.id ? editValue.position : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      disabled: loading || error || success,\n      loading: loading,\n      error: error,\n      success: success,\n      children: loading ? \"loading...\" : error ? \"error\" : success ? \"success\" : editValue.id ? \"Edit\" : \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddTeacher, \"ErEJkERt+20JyKHXWa6k62JoW+s=\");\n\n_c = AddTeacher;\nexport default AddTeacher;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddTeacher\");","map":{"version":3,"sources":["F:/ibs-admin-front/ibs-school-admin/src/components/AddTeacher/index.jsx"],"names":["React","useState","axios","Form","Input","Textarea","Title","Button","link","httpRequest","AddTeacher","editValue","submitProcess","setSubmitProcess","loading","error","success","submitTeacher","e","preventDefault","teacherFullName","birthDate","description","image","position","target","form","value","then","res","console","log","catch","err","finally","setTimeout","editProcess","setEditProcess","editTeacher","id","onSubmit","split"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\"\r\nimport axios from \"axios\";\r\nimport {Form, Input, Textarea, Title} from \"../Input/styles\";\r\nimport {Button} from \"../Input/styles\";\r\nimport {link} from \"../../baseLink/link\";\r\nimport {httpRequest} from \"../../util/httpRequest\";\r\n\r\nconst AddTeacher = ({editValue}) => {\r\n\r\n    const [submitProcess, setSubmitProcess] = useState({loading: false, error: false, success: false})\r\n\r\n    const submitTeacher = (e) => {\r\n        e.preventDefault()\r\n        setSubmitProcess({loading: true, error: false, success: false})\r\n\r\n        const [\r\n            teacherFullName,\r\n            birthDate,\r\n            description,\r\n            image,\r\n            position] = e.target\r\n\r\n        const form = {\r\n            teacherFullName: teacherFullName.value,\r\n            birthDate: birthDate.value,\r\n            description: description.value,\r\n            image: image.value,\r\n            position: position.value\r\n        }\r\n\r\n        axios(httpRequest(\"teachers\", \"POST\", form))\r\n            // .post(`${link}/teachers`, form)\r\n            .then(res => {\r\n                console.log(res)\r\n                setSubmitProcess({loading: false, error: false, success: true})\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                setSubmitProcess({loading: false, error: true, success: false})\r\n            })\r\n            .finally(res => {\r\n                console.log(res)\r\n                setTimeout(() => setSubmitProcess({loading: false, error: false, success: false}), 5000)\r\n            })\r\n    }\r\n\r\n    const [editProcess, setEditProcess] = useState({loading: false, error: false, success: false})\r\n\r\n    const editTeacher = (e) => {\r\n        e.preventDefault()\r\n        setEditProcess({loading: false, error: false, success: false})\r\n\r\n        const [\r\n            teacherFullName,\r\n            birthDate,\r\n            description,\r\n            image,\r\n            position] = e.target\r\n\r\n        const form = {\r\n            teacherFullName: teacherFullName.value,\r\n            birthDate: birthDate.value,\r\n            description: description.value,\r\n            image: image.value,\r\n            position: position.value\r\n        }\r\n\r\n        console.log(form)\r\n        axios(httpRequest(`teachers/${editValue.id}`, \"PUT\", form))\r\n            // .put(`${link}/teachers/${editValue.id}`, form)\r\n            .then(res => {\r\n                console.log(res)\r\n                setEditProcess({loading: false, error: false, success: true})\r\n            })\r\n            .catch(err => {\r\n\r\n                console.log(err)\r\n                setEditProcess({loading: false, error: true, success: false})\r\n            })\r\n            .finally(res => {\r\n                console.log(res)\r\n                setTimeout(() => setEditProcess({loading: false, error: false, success: false}), 3000)\r\n            })\r\n    }\r\n\r\n    const onSubmit = (e) => {\r\n        console.log(\"on submit  clicked\")\r\n        if (editValue.id !== null) {\r\n            editTeacher(e)\r\n            console.log(\"edit clicked\")\r\n        } else {\r\n            submitTeacher(e)\r\n            console.log(\"submit clicked\")\r\n        }\r\n    }\r\n\r\n    const {loading, error, success} = (editValue.id ? editProcess : submitProcess)\r\n\r\n    return (\r\n        <Form onSubmit={onSubmit}>\r\n\r\n            <Title>Teachers Form</Title>\r\n\r\n            <Input required name={\"teacherFullName\"} type={\"text\"} placeholder={\"Full Name\"}\r\n                   defaultValue={editValue.id ? editValue.teacherFullName : ''}/>\r\n\r\n            <Input required name={\"birthDate\"} type={\"date\"} placeholder={\"Date of birth\"}\r\n                   defaultValue={editValue.id ? editValue?.birthDate.split(\"T\")[0] : ''}/>\r\n\r\n            <Textarea rows={4} required name={\"description\"} placeholder={\"Quote\"}\r\n                      defaultValue={editValue.id ? editValue.description : ''}/>\r\n            <br/>\r\n\r\n            <Input required name={\"image\"} type={\"text\"} placeholder={\"Image id\"}\r\n                   defaultValue={editValue.id ? editValue.image : ''}/>\r\n\r\n            <Input required name={\"position\"} type={\"text\"} placeholder={\"Position\"}\r\n                   defaultValue={editValue.id ? editValue.position : ''}/>\r\n\r\n            <Button disabled={loading || error || success} loading={loading} error={error} success={success}>\r\n                {\r\n                    loading ? \"loading...\" :\r\n                        error ? \"error\" :\r\n                            success ? \"success\" :\r\n                                (editValue.id ? \"Edit\" : \"Submit\")\r\n                }\r\n            </Button>\r\n            {/*// }*/}\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport default AddTeacher"]},"metadata":{},"sourceType":"module"}