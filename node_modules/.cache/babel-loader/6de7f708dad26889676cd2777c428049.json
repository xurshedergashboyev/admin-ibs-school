{"ast":null,"code":"var _jsxFileName = \"F:\\\\ibs-admin-front\\\\ibs-school-admin\\\\src\\\\components\\\\TestedStudent\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { DeleteBox, Title } from \"../Table/styles\";\nimport { Checkbox } from \"../Input/styles\";\nimport { ContactBox, Course, FullName, FullNameBox, Level, PhoneNumber, RequestedStudentWrapper, ResultBox, TableRow, TableWrapper, Tick } from \"./styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Loading from \"../Loading\";\nimport ErrorBox from \"../ErrorBox\";\nimport { ReactComponent as Plus } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/plus.svg\";\nimport { useHistory } from \"react-router\";\nimport axios from \"axios\";\nimport { link } from \"../../baseLink/link\";\nimport { getToGetGiftStudents } from \"../../redux/modules/toGetGiftStudents/toGetGiftStudentsAction\";\nimport { ReactComponent as DeleteIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/bin.svg\";\nimport { ReactComponent as Bin } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/bin.svg\";\nimport { getTestedStudents } from \"../../redux/modules/testedStudents/testedStudentsAction\";\nimport { ActionsBox, Delete, DeletionBackground, DeletionPage, DeletionText, Edit } from \"../TeachersList/styles\";\nimport { ReactComponent as ArrowIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/arrow.svg\";\nimport { httpRequest } from \"../../util/httpRequest\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst TestedStudent = ({\n  setWaitData\n}) => {\n  _s();\n\n  var _deletionData$data, _deletionData$data2;\n\n  const findLevel = myResult => {\n    if (myResult >= 0 && myResult <= 14) {\n      return {\n        level: \"Beginner\",\n        color: \"#ff4545\"\n      };\n    } else if (myResult > 14 && myResult <= 20) {\n      return {\n        level: \"Elementary\",\n        color: \"#ffa534\"\n      };\n    } else if (myResult > 20 && myResult <= 30) {\n      return {\n        level: \"Pre\",\n        color: \"#ffe234\"\n      };\n    } else if (myResult > 30 && myResult <= 40) {\n      return {\n        level: \"Intermediate\",\n        color: \"#b7dd29\"\n      };\n    } else if (myResult > 40 && myResult <= 45) {\n      return {\n        level: \"Upper\",\n        color: \"#57e32c\"\n      };\n    } else if (myResult > 45 && myResult <= 50) {\n      return {\n        level: \"IELTS\",\n        color: \"#04f3bc\"\n      };\n    } else {\n      return null;\n    }\n  };\n\n  const students = useSelector(state => state.testedStudentReducer);\n  const {\n    loading,\n    error,\n    testedStudent\n  } = students;\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const handleDelete = id => {\n    axios(httpRequest(`tested-student/${id}`, \"DELETE\")) // .delete(`${link}/tested-student/${id}`)\n    .then(() => {\n      dispatch(getTestedStudents());\n      setDeletionData({\n        popUp: false,\n        data: {}\n      });\n    });\n  };\n\n  const [deletionData, setDeletionData] = useState({\n    popUp: false,\n    data: {}\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(RequestedStudentWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Tested Student\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }, this), error && /*#__PURE__*/_jsxDEV(ErrorBox, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(TableWrapper, {\n        children: !loading && !error && (testedStudent === null || testedStudent === void 0 ? void 0 : testedStudent.map(({\n          id,\n          fullName,\n          phoneNumber,\n          subject,\n          result,\n          localDateTime\n        }) => /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(DeleteBox, {\n            onClick: () => {\n              // handleDelete(id)\n              setDeletionData({\n                popUp: true,\n                data: {\n                  id,\n                  fullName,\n                  phoneNumber\n                }\n              });\n            },\n            className: \"bin\",\n            children: /*#__PURE__*/_jsxDEV(Bin, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(FullNameBox, {\n            children: [/*#__PURE__*/_jsxDEV(FullName, {\n              children: fullName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Course, {\n              children: subject\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ContactBox, {\n            children: /*#__PURE__*/_jsxDEV(PhoneNumber, {\n              children: phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ResultBox, {\n            children: /*#__PURE__*/_jsxDEV(Level, {\n              bgColor: findLevel(result).color,\n              children: findLevel(result).level\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Tick, {\n            onClick: () => {\n              setWaitData({\n                name: fullName,\n                course: subject,\n                phone: phoneNumber\n              });\n              history.push(\"/students/waiting-list\");\n            },\n            children: /*#__PURE__*/_jsxDEV(Plus, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 29\n          }, this)]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this)))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), deletionData.popUp && /*#__PURE__*/_jsxDEV(DeletionBackground, {\n      children: /*#__PURE__*/_jsxDEV(DeletionPage, {\n        children: [/*#__PURE__*/_jsxDEV(DeletionText, {\n          children: [(_deletionData$data = deletionData.data) === null || _deletionData$data === void 0 ? void 0 : _deletionData$data.fullName, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: (_deletionData$data2 = deletionData.data) === null || _deletionData$data2 === void 0 ? void 0 : _deletionData$data2.phoneNumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DeletionText, {\n          children: \"Do you really want to delete me \\uD83D\\uDE2D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ActionsBox, {\n          children: [/*#__PURE__*/_jsxDEV(Edit, {\n            bgColor: \"green\",\n            onClick: () => {\n              setDeletionData({\n                popUp: false,\n                data: {}\n              });\n            },\n            children: /*#__PURE__*/_jsxDEV(ArrowIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Delete, {\n            bgColor: \"red\",\n            onClick: () => {\n              var _deletionData$data3;\n\n              return handleDelete((_deletionData$data3 = deletionData.data) === null || _deletionData$data3 === void 0 ? void 0 : _deletionData$data3.id);\n            },\n            children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(TestedStudent, \"sHEFhGHlM+T4D7gJFgXVaoE5LM8=\", false, function () {\n  return [useSelector, useHistory, useDispatch];\n});\n\n_c = TestedStudent;\nexport default TestedStudent;\n\nvar _c;\n\n$RefreshReg$(_c, \"TestedStudent\");","map":{"version":3,"sources":["F:/ibs-admin-front/ibs-school-admin/src/components/TestedStudent/index.jsx"],"names":["React","useState","DeleteBox","Title","Checkbox","ContactBox","Course","FullName","FullNameBox","Level","PhoneNumber","RequestedStudentWrapper","ResultBox","TableRow","TableWrapper","Tick","useDispatch","useSelector","Loading","ErrorBox","useHistory","axios","link","getToGetGiftStudents","getTestedStudents","ActionsBox","Delete","DeletionBackground","DeletionPage","DeletionText","Edit","httpRequest","TestedStudent","setWaitData","findLevel","myResult","level","color","students","state","testedStudentReducer","loading","error","testedStudent","history","dispatch","handleDelete","id","then","setDeletionData","popUp","data","deletionData","map","fullName","phoneNumber","subject","result","localDateTime","name","course","phone","push"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\"\r\nimport {DeleteBox, Title} from \"../Table/styles\";\r\nimport {Checkbox} from \"../Input/styles\";\r\nimport {\r\n    ContactBox,\r\n    Course,\r\n    FullName,\r\n    FullNameBox, Level,\r\n    PhoneNumber,\r\n    RequestedStudentWrapper,\r\n    ResultBox, TableRow,\r\n    TableWrapper, Tick\r\n} from \"./styles\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport Loading from \"../Loading\";\r\nimport ErrorBox from \"../ErrorBox\";\r\nimport {ReactComponent as Plus} from \"../../assets/icons/plus.svg\";\r\nimport {useHistory} from \"react-router\";\r\nimport axios from \"axios\";\r\nimport {link} from \"../../baseLink/link\";\r\nimport {getToGetGiftStudents} from \"../../redux/modules/toGetGiftStudents/toGetGiftStudentsAction\";\r\nimport {ReactComponent as DeleteIcon, ReactComponent as Bin} from \"../../assets/icons/bin.svg\";\r\nimport {getTestedStudents} from \"../../redux/modules/testedStudents/testedStudentsAction\";\r\nimport {ActionsBox, Delete, DeletionBackground, DeletionPage, DeletionText, Edit} from \"../TeachersList/styles\";\r\nimport {ReactComponent as ArrowIcon} from \"../../assets/icons/arrow.svg\";\r\nimport {httpRequest} from \"../../util/httpRequest\";\r\n\r\nconst TestedStudent = ({setWaitData}) => {\r\n\r\n    const findLevel = (myResult) => {\r\n        if (myResult >= 0 && myResult <= 14) {\r\n            return {level: \"Beginner\", color: \"#ff4545\"}\r\n        } else if (myResult > 14 && myResult <= 20) {\r\n            return {level: \"Elementary\", color: \"#ffa534\"}\r\n        } else if (myResult > 20 && myResult <= 30) {\r\n            return {level: \"Pre\", color: \"#ffe234\"}\r\n        } else if (myResult > 30 && myResult <= 40) {\r\n            return {level: \"Intermediate\", color: \"#b7dd29\"}\r\n        } else if (myResult > 40 && myResult <= 45) {\r\n            return {level: \"Upper\", color: \"#57e32c\"}\r\n        } else if (myResult > 45 && myResult <= 50) {\r\n            return {level: \"IELTS\", color: \"#04f3bc\"}\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n\r\n    const students = useSelector(state => state.testedStudentReducer)\r\n    const {loading, error, testedStudent} = students\r\n    const history = useHistory()\r\n\r\n    const dispatch = useDispatch()\r\n    const handleDelete = (id) => {\r\n        axios(httpRequest(`tested-student/${id}`,\"DELETE\"))\r\n            // .delete(`${link}/tested-student/${id}`)\r\n            .then(() => {\r\n                    dispatch(getTestedStudents())\r\n                setDeletionData({popUp:false,data:{}})\r\n                }\r\n            )\r\n    }\r\n\r\n    const [deletionData, setDeletionData] = useState({popUp: false, data: {}})\r\n\r\n    return (\r\n        <>\r\n            <RequestedStudentWrapper>\r\n                <Title>Tested Student</Title>\r\n                {loading && <Loading/>}\r\n                {error && <ErrorBox/>}\r\n                <TableWrapper>\r\n                    {(!loading && !error) &&\r\n                    testedStudent?.map(({\r\n                                            id,\r\n                                            fullName,\r\n                                            phoneNumber,\r\n                                            subject,\r\n                                            result,\r\n                                            localDateTime\r\n                                        }) =>\r\n                        <TableRow key={id}>\r\n                            <DeleteBox onClick={() => {\r\n                                // handleDelete(id)\r\n                                setDeletionData({popUp: true, data: {id, fullName, phoneNumber}})\r\n                            }}\r\n                                       className={\"bin\"}>\r\n                                <Bin/>\r\n                            </DeleteBox>\r\n                            <FullNameBox>\r\n                                <FullName>\r\n                                    {fullName}\r\n                                </FullName>\r\n                                <Course>\r\n                                    {subject}\r\n                                </Course>\r\n                            </FullNameBox>\r\n                            <ContactBox>\r\n                                <PhoneNumber>\r\n                                    {phoneNumber}\r\n                                </PhoneNumber>\r\n                            </ContactBox>\r\n                            <ResultBox>\r\n                                <Level bgColor={findLevel(result).color}>\r\n                                    {findLevel(result).level}\r\n                                </Level>\r\n                            </ResultBox>\r\n                            <Tick onClick={() => {\r\n                                setWaitData({name: fullName, course: subject, phone: phoneNumber})\r\n                                history.push(\"/students/waiting-list\")\r\n                            }}>\r\n                                <Plus/>\r\n                            </Tick>\r\n                        </TableRow>\r\n                    )}\r\n                </TableWrapper>\r\n            </RequestedStudentWrapper>\r\n            {deletionData.popUp &&\r\n            <DeletionBackground>\r\n                <DeletionPage>\r\n                    <DeletionText>\r\n                        {deletionData.data?.fullName}\r\n                        <br/>\r\n                        <small>{deletionData.data?.phoneNumber}</small>\r\n                    </DeletionText>\r\n                    <DeletionText>Do you really want to delete me ðŸ˜­</DeletionText>\r\n                    <ActionsBox>\r\n                        <Edit bgColor={\"green\"} onClick={() => {\r\n                            setDeletionData({popUp: false, data: {}})\r\n                        }}>\r\n                            <ArrowIcon/>\r\n                        </Edit>\r\n                        <Delete bgColor={\"red\"} onClick={() =>\r\n                            handleDelete(deletionData.data?.id)\r\n                        }>\r\n                            <DeleteIcon/>\r\n                        </Delete>\r\n                    </ActionsBox>\r\n                </DeletionPage>\r\n            </DeletionBackground>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default TestedStudent"]},"metadata":{},"sourceType":"module"}